# 常见问题和使用提示

这里列出一些常见问题的答案，以及使用提示。

## 搭配合适的上下文

密文在搭配合适的上下文的时候，可以达到最佳效果。
BERT 等文本分类模型，经过大量训练，也许可以单独攻击密文。

若将密文混在一个上下文中，则可以避免此类攻击。
即使是比一般 NLP 模型更加复杂的 LLM，也无法判别此类内容。

::: details 示例 /《红楼梦》第一回
士隐意欲也跟了过去，方举步时，忽听一声霹雳，有若山崩地陷。士隐大叫一声，定睛一看，只见烈日炎炎，芭蕉冉冉，所梦之事便忘了大半。又见奶母正抱了英莲走来。士隐见女儿越发生得粉妆玉琢，乖觉可喜，便伸手接来，抱在怀内，斗他顽耍一回，又带至街前，看那过会的热闹。方欲进来时，只见从那边来了一僧一道：那僧则癞头跣脚，那道则跛足蓬头，疯疯癫癫，挥霍谈笑而至。及至到了他门前，看见士隐抱著英莲，那僧便大哭起来，又向士隐道：“施主，你把这有命无运，累及爹娘之物，抱在怀内作甚？”士隐听了，知是疯话，也不去睬他。那僧还说：“舍我罢，舍我罢！”士隐不耐烦，便抱女儿撤身要进去，那僧乃指著他大笑，口内念了几句言词道：
**物以极纯，远说骏福，岩歌以风。冷棋歌春，叶霞任琴。宏涧静御，森霞攸笑，是物也，火临冰善，鲤短莺绮。本应度后，非奏铃云，绸将雪之。使其盈恋灵求，乐棋辄彰，城使福之。**
士隐听得明白，心下犹豫，意欲问他们来历。只听道人说道：“你我不必同行，就此分手，各干营生去罢。三劫后，我在北邙山等你，会齐了同往太虚幻境销号。”那僧道：“最妙，最妙！”说毕，二人一去，再不见个踪影了。士隐心中此时自忖：这两个人必有来历，该试一问，如今悔却晚也。
:::

## 善用十六进制字符串

字符范围 ABCDEF abcdef 0123456789 可用于表示十六进制。  
压缩时会用两种策略分别压缩，然后比较结果长度，取较小的那个。

- 策略一，将文本当成十六进制执行解码，然后再压缩。
- 策略二，将文本当成普通 UTF-8 字符串压缩。

第一种策略在加密磁力链接时尤为有效。

**因此使用本项目加密磁力链接时，推荐使用十六进制特征码而非 Base32 编码后的特征码。**  
使用十六进制特征码能得到更短的结果。

## 请勿添加固定前缀

本项目在未来的任何时候，都不会添加形如 `魔曰：` / `熊曰：` 的固定前缀。  
因为这么做会显著增加密文的可识别性，违背了目标。

不过，"魔"字不是载荷字，用户即使自行加上前缀，一并复制，也不会影响解密。  
因此有特殊需要的用户可以自行加上前缀，但我不保证这么做的安全性。

## 善用随机滑条

用户设定的随机指数，主要影响组句过程中的载荷分配步骤。

随机指数越高，每一步分配的载荷量就越有可能变得零碎。从而让整段文本变得零碎。反之亦然。

“零碎”，即文本中有大量孤立句式：
`X曰`、`非X也`、`非能X也`

随机指数可以随用户喜好设置，一般推荐设置为 50（居中位置），如果你更喜欢整齐一点的密文，可以调小它。

无论用户如何设置随机指数和过滤开关，均不会影响密文的解密。

## 合理使用高级加密

高级加密模式允许资深用户选择加密套件，提供更强的加密安全性。但高级加密也有诸多局限性，用户应当合理使用高级加密以达到自身目的。

- 高级加密会显著增加密文的长度，最多可达数百字。  
  **若对密文长度有要求，谨慎使用高级加密。**

- 为了使高级加密有意义，**请避免使用弱口令/默认密钥**。  
  任何复杂的密码学套件都无法提升弱口令的安全性。

- 仅打开高级加密主开关而不使用任何功能，其标头仍然会添加到密文中。  
  **若不使用任何高级加密功能，请关闭高级加密主开关。**

- KDF 是计算密集功能，在低性能设备上运行时会有明显卡顿。

- 打开 TOTP 功能，可免于向密文后方追加 KDF 盐值，从而缩短密文长度。

- TOTP 功能本身不会增加密钥的熵，其安全性主要由 BaseKey 决定。  
  **若想进一步提升密文安全性，可自定义一个与加密密钥不同的 BaseKey。**

## 繁體中文(香港)

針對使用繁體中文的用戶，魔曰現已支援繁體中文輸入/輸出。

魔曰采用的繁體中文類別為香港繁體，爲確保加解密一致性，亦采用逐字轉換的方式，因此可能與實際語言習慣不同。

用戶在加密時打開 `繁體中文` 開關，可即時得到繁體中文密文。解密時，並毋須打開此開關，流動應用會自動做出適當處置。

::: tip 繁體中文示例

琴以秀，堅則為航庭，舒則為振鴛。不必關也，清則為求空，臨則為航戀。風聽而瑞鶯連也，予關夫極鏡繡冰，在秋月之雪。益鸝事於路而報琴，當短取彩局，而歌説不靜，非請彰也。

:::
